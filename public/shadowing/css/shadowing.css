 <style>
    :root{
      --bg:#f5f7fb;--card:#ffffff;--muted:#6b7280;--text:#111827;--ring:#e5e7eb;
      --ok:#dcfce7;--fail:#fee2e2;--miss:#fde68a;--sub:#fecaca;--start:#e0f2fe;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font:16px/1.5 "Inter",system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text); background:var(--bg);
    }
    .page{max-width:1000px;margin:24px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--ring);border-radius:16px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.04)}

    /* Player 16:9 */
    .player-wrap{position:relative;width:100%;aspect-ratio:16/9;background:#eceff3;border-radius:12px;overflow:hidden}
    .player-wrap iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* Kontrolki */
    .controls{margin-top:20px;display:flex;flex-direction:column;align-items:center;gap:16px}
    .subs-toggle{display:flex;gap:12px;justify-content:center}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border:1px solid var(--ring);border-radius:999px;background:#fff}
    .pill input{accent-color:#111827}

    .btn{border:1px solid var(--ring);background:#fff;padding:12px 18px;border-radius:12px;cursor:pointer;font-weight:600;transition:background .2s;text-align:center;white-space:nowrap}
    .btn:hover{background:#f8fafc}
    .btn-lg{font-size:18px;padding:14px 24px}
    .btn-start{background:var(--start);border-color:#93c5fd}
    .btn-start:hover{background:#bae6fd}

    .nav-buttons{display:flex;justify-content:center;gap:12px;flex-wrap:nowrap}
    @media(max-width:480px){ .nav-buttons{flex-wrap:wrap} }

    /* Panel wyników */
    .panel{margin-top:16px;padding:12px 14px;border-radius:12px;border:1px dashed var(--ring);background:#fff;text-align:center}
    .foot#status { font-size:19px; line-height:1.5; }

    /* Słowa i podświetlenia */
    #sentence {
      font-size:20px;
      padding:10px;
      border-radius:8px;
      display:inline-block;
      line-height:1.8;
    }
    .ok { background:#dcfce7; }
    .fail { background:#fee2e2; }
    .word { cursor:pointer; }
    .word:hover { text-decoration: underline; }
    .wrong { color:#b91c1c; font-weight:600; }
    .miss { background:#fde68a; border-radius:6px; padding:2px 4px; }
    .sub  { background:#fecaca; border-radius:6px; padding:2px 4px; }
    .okw  { background:#dcfce7; border-radius:6px; padding:2px 4px; }

    /* Popup tłumaczenia przy słowie */
    .translation-popup{
      position:absolute;
      background:rgba(0,0,0,.88);
      color:#fff;
      padding:8px 12px;
      border-radius:10px;
      font-size:17px;
      line-height:1.5;
      pointer-events:none;
      white-space:nowrap;
      opacity:0;
      transform:translateY(4px);
      transition:opacity .18s ease, transform .18s ease;
      z-index:1000;
      box-shadow:0 6px 24px rgba(0,0,0,.18);
    }
    .translation-popup.show{ opacity:1; transform:translateY(0); }

    .hidden { display: none; }

    /* Ekran końcowy */
    #end-screen .end-inner {
      text-align:center;
      padding:40px 24px;
    }
    #end-screen h2 { font-size:28px; margin:0 0 8px; }
    #end-screen p { margin:0 0 20px; color:var(--muted); }

    /* Dostosowanie mobilne */
    @media (max-width: 480px) {
      .pill { font-size:14px; padding:8px 10px; gap:6px; }
      #sentence { line-height:1.9; }
      #end-screen .end-inner { padding:28px 16px; }
      #end-screen h2 { font-size:24px; }
    }

    /* ——— Mobile: więcej miejsca w poziomie ——— */
    @media (max-width: 420px) {
      .page { padding-left: 6px; padding-right: 6px; }
      .card { padding: 14px 10px; border-radius: 12px; }
      .nav-buttons { gap: 8px; }
      .nav-buttons .btn { padding: 10px 12px; font-size: 15px; }
    }
    @media (max-width: 360px) {
      .page { padding-left: 4px; padding-right: 4px; }
      .card { padding: 12px 8px; }
      .nav-buttons { gap: 6px; }
      .nav-buttons .btn { padding: 9px 10px; font-size: 14.5px; }
    }

    /* --- Mobile: układ 2×2 dla przycisków nawigacji --- */
    @media (max-width: 480px) {
      .nav-buttons {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        width: 100%;
      }
      .nav-buttons .btn {
        flex: 0 1 calc(50% - 10px);
        min-width: 0;
        font-size: 15px;
        padding: 10px 12px;
      }
    }
  </style>
